(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{332:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return b}));a(201);var n=a(110),l=a(338),c=a.n(l),r=a(59),i=a(48),o=c.a.create();function s(e,t){return new Promise((function(a,l){o.get(e,{params:t}).then((function(e){a(e.data)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u7f51\u7edc\u51fa\u9519";n.b.error(e),l(e)}))}))}function u(e,t){var a=t.id;return new Promise((function(t,l){o.get("".concat(e,"/").concat(a)).then((function(e){t(e.data)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u7f51\u7edc\u51fa\u9519";n.b.error(e),l(e)}))}))}function d(e,t){return new Promise((function(a,l){o.post(e,t).then((function(e){a(e.data)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u7f51\u7edc\u51fa\u9519";n.b.error(e),l(e)}))}))}function b(e,t){var a=t.id;return new Promise((function(t,l){o.delete("".concat(e,"/").concat(a)).then((function(e){t(e.data)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u7f51\u7edc\u51fa\u9519";n.b.error(e),l(e)}))}))}o.defaults.baseURL="",o.defaults.timeout=1e4,o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8;multipart/form-data",o.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.token=t),e}),(function(e){return Promise.error(e)})),o.interceptors.response.use((function(e){if(200===e.status)switch(e.data.code){case 0:return Promise.resolve(e);case 500:return Promise.reject(e.data.msg);case 401:return localStorage.clear(),r.a.dispatch(Object(i.c)("/content/home")),r.a.dispatch(Object(i.b)("")),r.a.dispatch(Object(i.d)([])),setTimeout((function(){window.location.replace("/login")}),1e3),Promise.reject(e.data.msg);default:if(e.data.code)return Promise.reject(e.data.msg)}}),(function(e){if(e)return Promise.reject(e.response)}))},380:function(e,t,a){e.exports={page_title:"pageTitle_page_title__24q6V"}},384:function(e,t,a){e.exports={page_search:"pageSearch_page_search__2JJHg",reset_btn:"pageSearch_reset_btn__rbzoA"}},404:function(e,t,a){e.exports={page_table:"pageTable_page_table__2Epgs",page_table_top:"pageTable_page_table_top__H-KdP",page_table_title:"pageTable_page_table_title__1_C5E",start_btn:"pageTable_start_btn__1uzAo",stop_btn:"pageTable_stop_btn__3mBpY"}},405:function(e,t,a){},414:function(e,t,a){"use strict";a.r(t);a(347);var n=a(359),l=a(0),c=a(1),r=a(5),i=a(200),o=a.n(i),s=a(380),u=a.n(s),d=a(8),b=Object(l.memo)((function(e){var t=e.pageTitleConfig.title;return Object(d.jsx)("div",{className:u.a.page_title,children:t})})),p=(a(135),a(75)),f=(a(202),a(137)),h=(a(203),a(98)),j=(a(348),a(356)),m=(a(334),a(331)),g=a(409),O=a(384),x=a.n(O),v=m.a.Option,y=j.a.RangePicker,_=Object(l.memo)((function(e){var t=e.pageSearchConfig,a=void 0===t?{}:t,n=a.searchItemArr,c=void 0===n?[]:n,i=h.a.useForm(),s=Object(r.a)(i,1)[0],u=Object(l.useRef)(""),b=Object(l.useRef)(""),j=function(e){switch(e.type){case"input":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(f.a,{style:{width:e.width||"200px"},placeholder:e.placeholder||"\u8bf7\u8f93\u5165\u5185\u5bb9"})});case"select":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(m.a,{style:{width:e.width||"200px"},showSearch:!0,placeholder:e.placeholder||"\u8bf7\u9009\u62e9\u5185\u5bb9",optionFilterProp:"children",children:e.options&&e.options.map((function(t){return Object(d.jsx)(v,{value:t[e.customizeOptionsValueKey||"value"],children:t[e.customizeOptionsLabelKey||"lable"]},t[e.customizeOptionsValueKey||"value"])}))})});case"rangePicker":return u.current=e.field[0],b.current=e.field[1],Object(d.jsx)(h.a.Item,{label:e.label,name:e.field[0],rules:e.rules,children:Object(d.jsx)(y,{locale:g.a,placeholder:e.placeholder||["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:e.width||"260px"}})});default:console.warn("\u672a\u627e\u5230\u5bf9\u5e94\u7ec4\u4ef6")}};return Object(d.jsxs)("div",{className:x.a.page_search,children:[Object(d.jsx)(h.a,{name:"pageSearchForm",layout:"inline",autoComplete:"off",form:s,children:c.map((function(e){return Object(d.jsx)("div",{style:{marginRight:a.searchItemMarginRight||"28px"},children:j(e)},e.field)}))}),Object(d.jsxs)("div",{children:[Object(d.jsx)(p.a,{type:"primary",onClick:function(){!function(){var e=s.getFieldsValue();if(e[u.current],u.current&&b.current){var t=e[u.current][0],n=e[u.current][1];e[u.current]=o()(t).format().valueOf(),e[b.current]=o()(n).format().valueOf()}console.log(e),a.getSearchValues(e)}()},children:"\u67e5\u8be2"}),Object(d.jsx)(p.a,{className:x.a.reset_btn,onClick:function(){s.resetFields(),a.resetSearchValues()},children:"\u91cd\u7f6e"})]})]})})),C=(a(408),a(406)),w=(a(201),a(110)),k=(a(392),a(410)),S=(a(394),a(411)),T=a(7),I=(a(396),a(407)),P=a(185),K=a(398),z=a.n(K),V=a(332);a(351);var R=a(337),U=(a(350),a(336)),F=(a(352),a(357)),N=Object(l.memo)((function(e){var t=e.halfCheckedKeys,a=e.treeData,n=e.fieldNames,l=e.onChange,c=e.value;a[0].key||console.warn("\u8bf7\u7ed9options\u7684\u6bcf\u4e00\u9879 \u6dfb\u52a0\u4e00\u4e2akey\uff08\u552f\u4e00\uff09\uff0c\u6765\u63d0\u5347\u6e32\u67d3\u901f\u5ea6");return Object(d.jsx)("div",{children:Object(d.jsx)(F.a,{checkable:!0,checkedKeys:c,treeData:a,fieldNames:n,onCheck:function(e,a){!function(e,a){l(t?e.concat(a.halfCheckedKeys):e)}(e,a)}})})})),M=m.a.Option,D=j.a.RangePicker,A=Object(l.memo)((function(e){var t=e.tableItemId,a=e.pageModalConfig,n=e.curdUrl,c=e.closeModal,i=a.modalItemArr,o=void 0===i?[]:i,s=a.labelCol,u=void 0===s?{offset:0,span:6}:s,b=a.wrapperCol,g=void 0===b?{offset:1,span:8}:b,O=h.a.useForm(),x=Object(r.a)(O,1)[0],v=function(e){switch(e.type){case"input":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(f.a,{style:{width:e.width||"200px"},placeholder:e.placeholder||"\u8bf7\u8f93\u5165\u5185\u5bb9"})});case"password":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(f.a.Password,{style:{width:e.width||"200px"},placeholder:e.placeholder||"\u8bf7\u8f93\u5165\u5185\u5bb9"})});case"select":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(m.a,{style:{width:e.width||"200px"},showSearch:!0,placeholder:e.placeholder||"\u8bf7\u9009\u62e9\u5185\u5bb9",optionFilterProp:"children",children:e.options&&e.options.map((function(t){return Object(d.jsx)(M,{value:t[e.customizeValueKey||"value"],children:t[e.customizeLabelKey||"label"]},t[e.customizeValueKey||"value"])}))})});case"datePicker":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(j.a,{placeholder:e.placeholder||"\u8bf7\u9009\u62e9\u65e5\u671f",style:{width:e.width||"260px"}})});case"rangePicker":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(D,{showTime:e.showTime,placeholder:e.placeholder||["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:e.width||"260px"}})});case"radio":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(U.a.Group,{children:e.options.map((function(t){return Object(d.jsx)(U.a,{value:t[e.customizeValueKey||"value"],children:t[e.customizeLabelKey||"label"]},t[e.customizeValueKey||"value"])}))})});case"checkbox":var t=e.options.map((function(t){return{label:t[e.customizeOptionsLabelKey||"label"],value:t[e.customizeOptionsValueKey||"value"]}}));return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(R.a.Group,{options:t})});case"tree":return Object(d.jsx)(h.a.Item,{label:e.label,name:e.field,rules:e.rules,children:Object(d.jsx)(N,{halfCheckedKeys:e.halfCheckedKeys,treeData:e.options,fieldNames:{title:e.customizeOptionsLabelKey||"label",key:e.customizeOptionsValueKey||"value",children:e.customizeOptionsChildrenKey||"children"}})});default:console.warn("\u672a\u627e\u5230\u5bf9\u5e94\u7ec4\u4ef6")}},y=function(){var e,t;(e=n,t=x.getFieldsValue(),Object(V.c)(e,t)).then((function(e){console.log("\u4fdd\u5b58\u6210\u529f"),c("\u5360\u4f4d\u53c2\u6570",!0)}))};return Object(l.useEffect)((function(){var e,a;t&&(e=n,a={id:t},Object(V.b)(e,a)).then((function(e){console.log(e),x.setFieldsValue(e.data)}))})),Object(d.jsxs)("div",{children:[Object(d.jsx)(h.a,{name:"pageModalForm",form:x,labelCol:u,wrapperCol:g,autoComplete:"off",children:o.map((function(e){return Object(d.jsx)("div",{children:v(e)},e.field)}))}),Object(d.jsxs)("div",{style:{width:"200px",margin:"0 auto",textAlign:"center"},children:[Object(d.jsx)(p.a,{style:{marginRight:"10px"},children:"\u53d6\u6d88"}),Object(d.jsx)(p.a,{type:"primary",onClick:function(){y()},children:"\u786e\u5b9a"})]})]})})),q=a(404),E=a.n(q),J=(a(405),I.a.confirm),L=Object(l.memo)((function(e){var t=e.pageRequestUrl,a=void 0===t?{}:t,n=e.pageTableConfig,c=void 0===n?{}:n,i=e.searchData,o=void 0===i?{}:i,s=e.pageModalConfig,u=void 0===s?{}:s,b=a.curdUrl,f=a.startUrl,h=a.stopUrl,j=c.columns,m=Object(l.useRef)(1),g=Object(l.useRef)(10),O=Object(l.useState)({}),x=Object(r.a)(O,2),v=x[0],y=x[1],_=Object(l.useState)([]),K=Object(r.a)(_,2),R=K[0],U=K[1],F=Object(l.useRef)(""),N=Object(l.useRef)(),M=Object(l.useState)(!1),D=Object(r.a)(M,2),q=D[0],L=D[1],Y=[].concat(Object(T.a)(j),[{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,t){return Object(d.jsxs)(k.b,{size:"middle",children:[Object(d.jsx)(p.a,{type:"text",style:{color:"#1890FF"},onClick:function(){},children:"\u67e5\u770b"}),Object(d.jsx)(p.a,{type:"text",style:{color:"#48ED4B"},onClick:function(){W("\u4fee\u6539",t.id)},children:"\u4fee\u6539"}),Object(d.jsx)(p.a,{type:"text",style:{color:"#EB3030"},onClick:function(){Z(t.id)},children:"\u5220\u9664"}),Object(d.jsx)(S.a,{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528",checked:1===t.status,onClick:function(e){$(e,[t.id])}})]})}}]),H={pageSizeOptions:[5,10,15,20],responsive:!0,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(){return"\u5171"+v.total+"\u6761"},pageSize:g.current,current:m.current,total:v.total,onChange:function(e,t){m.current=e,g.current=t,Q()}},B={selectedRowKeys:R,onChange:function(e){U(e)}},G=function(e,t){J({title:e,icon:Object(d.jsx)(P.a,{}),onOk:function(){t&&t()},onCancel:function(){console.log("Cancel")}})},Q=Object(l.useCallback)((function(){var e,t,a=z.a.cloneDeep(o);a.pageNum=m.current,a.pageSize=g.current,(e=b,t=a,Object(V.a)(e,t)).then((function(e){console.log(e),y(e.data)}))}),[b,o]),W=function(e,t){F.current=e,t&&(N.current=t),L(!0)},X=function(e,t){t&&Q(),L(!1)},Z=function(e){G("\u8bf7\u786e\u8ba4\u662f\u5426\u5220\u9664\uff1f",(function(){var t,a;(t=b,a={id:e},Object(V.d)(t,a)).then((function(){w.b.success("\u5220\u9664\u6210\u529f"),Q()}))}))},$=function(e,t){if(e){G("\u662f\u5426\u542f\u7528\u6570\u636e\uff1f",(function(){var e,a;(e=f||"".concat(b,"start"),a={ids:t},Object(V.c)(e,a)).then((function(e){w.b.success("\u5df2\u542f\u7528"),Q()}))}))}else{G("\u662f\u5426\u7981\u7528\u6570\u636e\uff1f",(function(){var e,a;(e=h||"".concat(b,"stop"),a={ids:t},Object(V.c)(e,a)).then((function(e){w.b.warning("\u5df2\u7981\u7528"),Q()}))}))}};return Object(l.useEffect)((function(){Q()}),[Q]),Object(d.jsxs)("div",{className:"".concat(E.a.page_table," page_table"),children:[Object(d.jsxs)("div",{className:E.a.page_table_top,children:[Object(d.jsx)("div",{className:E.a.page_table_title,children:"\u67e5\u8be2\u8868\u683c"}),Object(d.jsxs)("div",{className:"page_table_btns",children:[Object(d.jsx)(p.a,{type:"primary",onClick:function(){W("\u65b0\u5efa")},children:"\u65b0\u5efa"}),Object(d.jsx)(p.a,{className:E.a.start_btn,onClick:function(){0!==R.length?$(!0,R):w.b.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e")},children:"\u542f\u7528"}),Object(d.jsx)(p.a,{className:E.a.stop_btn,onClick:function(){0!==R.length?$(!1,R):w.b.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e")},children:"\u505c\u7528"})]})]}),Object(d.jsx)(C.a,{size:"small",style:{padding:"0 36px"},columns:Y,dataSource:v.list,pagination:H,rowSelection:B,rowKey:function(e){return e.id}}),Object(d.jsx)(I.a,{title:F.current,destroyOnClose:!0,visible:q,onCancel:X,footer:[],children:Object(d.jsx)(A,{tableItemId:N.current,pageModalConfig:u,curdUrl:b,closeModal:X})})]})})),Y=Object(l.memo)((function(e){var t=e.pageConfig,a=void 0===t?{}:t,n=a.pageRequestUrl,i=void 0===n?{}:n,s=a.pageTitleConfig,u=void 0===s?{}:s,p=a.pageSearchConfig,f=void 0===p?{}:p,h=a.pageTableConfig,j=void 0===h?{}:h,m=a.pageModalConfig,g=void 0===m?{}:m,O=Object(l.useState)({}),x=Object(r.a)(O,2),v=x[0],y=x[1],C=Object(c.a)(Object(c.a)({},f),{},{getSearchValues:function(e){console.log(e),y(e),console.log(o()(e.date[0]).format("YYYY/MM/DD HH:mm:ss"))},resetSearchValues:function(){y({})}});return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{pageTitleConfig:u}),Object(d.jsxs)("div",{style:{padding:"18px"},children:[Object(d.jsx)(_,{pageSearchConfig:C}),Object(d.jsx)(L,{pageRequestUrl:i,searchData:v,pageTableConfig:j,pageModalConfig:g})]})]})})),H=Object(l.memo)((function(){var e={pageRequestUrl:{curdUrl:"/oneOne",startUrl:"/oneOne/start",stopUrl:"/oneOne/stop"},pageTitleConfig:{title:"\u6d4b\u8bd5page"},pageSearchConfig:{searchItemArr:[{type:"input",label:"\u59d3\u540d",field:"name"},{type:"select",label:"\u6027\u522b",field:"gender"},{type:"rangePicker",label:"\u67e5\u8be2\u65e5\u671f",format:"timestamp",field:["startTime","endTime"]}]},pageTableConfig:{columns:[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"name",align:"center"},{title:"\u624b\u673a\u53f7",dataIndex:"iphone",key:"iphone",align:"center"},{title:"\u804c\u52a1",dataIndex:"jobTitle",key:"jobTitle",align:"center",render:function(e){return 1===e?Object(d.jsx)(n.a,{color:"processing",children:"\u7ba1\u7406\u5458"}):2===e?Object(d.jsx)(n.a,{color:"processing",children:"\u6d4b\u8bd5\u5458"}):void 0}}]},pageModalConfig:{modalItemArr:[{type:"input",label:"\u59d3\u540d",field:"name",rules:[]},{type:"password",label:"\u5bc6\u7801",field:"password",rules:[]},{type:"select",label:"\u9009\u62e9\u6c34\u679c",field:"fruit",rules:[],options:[{label:"\u82f9\u679c",value:1},{label:"\u9999\u8549",value:2}]},{type:"radio",label:"\u5355\u9009",field:"radioVal",rules:[],options:[{value:1,label:"\u7537"},{value:2,label:"\u5973"}]},{type:"checkbox",label:"\u591a\u9009",field:"checkboxVal",rules:[],options:[{value:1,label:"\u7ea2\u65d7"},{value:2,label:"\u5409\u5229"}]},{type:"tree",label:"\u6811\u5f62\u9009\u62e9",field:"treeVal",rules:[],halfCheckedKeys:!0,options:[{value:1,key:1,label:"\u7f16\u7a0b\u8bed\u8a00",children:[{key:2,value:2,label:"JavaScript"}]}]},{type:"datePicker",label:"\u9009\u62e9\u65e5\u671f",field:"datePickerVal",rules:[]},{type:"rangePicker",label:"\u9009\u62e9\u65e5\u671f\u533a\u95f4",field:"rangePickerVal",rules:[],showTime:!0}]}};return Object(d.jsx)("div",{children:Object(d.jsx)(Y,{pageConfig:e})})}));t.default=H}}]);
//# sourceMappingURL=5.86cb3f41.chunk.js.map