{"version":3,"sources":["request/http.js","component/business-components/page/children/page-title/pageTitle.module.css","component/business-components/page/children/page-search/pageSearch.module.css","component/business-components/page/children/page-table/pageTable.module.css","component/business-components/page/children/page-title/PageTitle.js","component/business-components/page/children/page-search/PageSearch.js","component/business-components/page/children/page-modal/children/modal-tree/ModalTree.js","component/business-components/page/children/page-modal/PageModal.js","request/api/content/common/page.js","component/business-components/page/children/page-table/PageTable.js","component/business-components/page/Page.js","view/content/one/OneOne.js"],"names":["axios1","axios","create","getQuery","url","params","Promise","resolve","reject","get","then","res","data","catch","err","error","getRestful","id","post","remove","delete","defaults","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","response","status","code","msg","clear","store","dispatch","setCurrentTwoMenuPathA","setCurrentOneMenuPathA","setMenuDataA","setTimeout","window","location","replace","module","exports","PageTitle","memo","props","title","pageTitleConfig","className","pageTitleCss","page_title","Option","RangePicker","PageSearch","pageSearchConfig","searchItemArr","useForm","form","startDateField","useRef","endDateField","renderSearchItem","searchItem","type","Item","label","name","field","rules","style","width","placeholder","showSearch","optionFilterProp","options","map","option","value","customizeOptionsValueKey","customizeOptionsLabelKey","current","locale","console","warn","pageSearchCss","page_search","layout","autoComplete","marginRight","searchItemMarginRight","onClick","searchData","getFieldsValue","startDate","endDate","moment","format","valueOf","log","getSearchValues","search","reset_btn","resetFields","resetSearchValues","ModalTree","halfCheckedKeys","treeData","fieldNames","onChange","key","checkable","checkedKeys","onCheck","info","concat","PageModal","tableItemId","pageModalConfig","curdUrl","closeModal","modalItemArr","labelCol","offset","span","wrapperCol","renderModalItem","modalItem","Password","customizeValueKey","customizeLabelKey","showTime","Group","newOptions","item","children","customizeOptionsChildrenKey","preserve","useEffect","setFieldsValue","margin","textAlign","confirm","PageTable","pageRequestUrl","pageTableConfig","startUrl","stopUrl","columns","pageNum","pageSize","useState","tableData","setTableData","selectedRowKeys","setSelectedRowKeys","modalTitle","isModalVisible","setIsModalVisible","newColumns","align","render","_","record","size","color","showModal","removeTableData","checkedChildren","unCheckedChildren","checked","enableOrDisable","paginationConfig","pageSizeOptions","responsive","showSizeChanger","showQuickJumper","showTotal","total","pagesize","getTableData","rowSelection","commonConfirm","callBackFun","icon","ExclamationCircleOutlined","onOk","onCancel","useCallback","cloneDeepSearchData","cloneDeep","rowId","isRequestTableData","message","success","isEnable","rowIdArr","ids","warning","pageTableCss","page_table","page_table_top","page_table_title","start_btn","length","stop_btn","padding","dataSource","list","pagination","rowKey","destroyOnClose","visible","footer","Page","pageConfig","setSearchData","newPageSearchConfig","date","OneOne","dataIndex","text"],"mappings":"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","file":"static/js/5.86cb3f41.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nimport { message } from 'antd';\r\n\r\nimport store from '@/store'\r\n\r\nimport { setCurrentOneMenuPathA, setCurrentTwoMenuPathA, setMenuDataA } from '@/store/createAction/frameWork.js'\r\n\r\n// 创建axios实例\r\nconst axios1 = axios.create()\r\n\r\n// 环境的切换\r\nif (process.env.NODE_ENV === 'development') {\r\n  axios1.defaults.baseURL = 'http://localhost:3001'\r\n} else if (process.env.NODE_ENV === 'production') {\r\n  axios1.defaults.baseURL = ''\r\n}\r\naxios1.defaults.timeout = 10000\r\naxios1.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8;multipart/form-data'\r\n\r\n// 请求拦截器\r\naxios1.interceptors.request.use(\r\n  config => {\r\n    // 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了\r\n    // 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断\r\n    const token = localStorage.getItem('token')\r\n\r\n    token && (config.headers.token = token)\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.error(error)\r\n  })\r\n\r\n// 响应拦截器 code只是案例 具体code结合后端来定\r\naxios1.interceptors.response.use(\r\n  (response) => {\r\n    // 网络层200\r\n    if (response.status === 200) {\r\n      switch (response.data.code) {\r\n        // 成功\r\n        case 0:\r\n          return Promise.resolve(response)\r\n\r\n        // 账号或密码错误\r\n        case 500:\r\n          return Promise.reject(response.data.msg)\r\n\r\n        // token失效\r\n        case 401:\r\n\r\n          localStorage.clear()\r\n          store.dispatch(setCurrentTwoMenuPathA('/content/home'))\r\n          store.dispatch(setCurrentOneMenuPathA(''))\r\n          store.dispatch(setMenuDataA([]))\r\n\r\n          setTimeout(() => {\r\n            window.location.replace(`/login`)\r\n          }, 1000)\r\n\r\n          return Promise.reject(response.data.msg)\r\n\r\n        // 其他非0状态\r\n        default:\r\n          if (response.data.code) {\r\n            // 其他错误\r\n            return Promise.reject(response.data.msg)\r\n          }\r\n      }\r\n    }\r\n  },\r\n  // 网络层状态码不是200的情况\r\n  (error) => {\r\n    if (error) {\r\n      return Promise.reject(error.response)\r\n    }\r\n  }\r\n)\r\n\r\n/**\r\n * get方法，对应get请求 query\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function getQuery(url, params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios1.get(url, {\r\n      params\r\n    }).then(res => {\r\n      resolve(res.data)\r\n    }).catch((err = \"网络出错\") => {\r\n      message.error(err);\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * get方法，对应get请求 restful\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function getRestful(url, params) {\r\n  const {\r\n    id\r\n  } = params\r\n  return new Promise((resolve, reject) => {\r\n    axios1.get(`${url}/${id}`).then(res => {\r\n      resolve(res.data)\r\n    }).catch((err = \"网络出错\") => {\r\n      message.error(err);\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * post方法，对应post请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function post(url, params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios1.post(url, params)\r\n      .then(res => {\r\n        resolve(res.data)\r\n      }).catch((err = \"网络出错\") => {\r\n        message.error(err);\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * put方法，对应put请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function put(url, params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios1.put(url, params)\r\n      .then(res => {\r\n        resolve(res.data)\r\n      }).catch((err = \"网络出错\") => {\r\n        message.error(err);\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * delete方法，对应delete请求 \r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function remove(url, params) {\r\n  const { id } = params\r\n  return new Promise((resolve, reject) => {\r\n    axios1.delete(`${url}/${id}`).then(res => {\r\n      resolve(res.data)\r\n    }).catch((err = \"网络出错\") => {\r\n      message.error(err);\r\n      reject(err)\r\n    })\r\n  })\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page_title\":\"pageTitle_page_title__24q6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page_search\":\"pageSearch_page_search__2JJHg\",\"reset_btn\":\"pageSearch_reset_btn__rbzoA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page_table\":\"pageTable_page_table__2Epgs\",\"page_table_top\":\"pageTable_page_table_top__H-KdP\",\"page_table_title\":\"pageTable_page_table_title__1_C5E\",\"start_btn\":\"pageTable_start_btn__1uzAo\",\"stop_btn\":\"pageTable_stop_btn__3mBpY\"};","import React, { memo } from 'react';\r\nimport pageTitleCss from './pageTitle.module.css'\r\nconst PageTitle = memo((props) => {\r\n  const { pageTitleConfig } = props\r\n  const { title } = pageTitleConfig\r\n  return (\r\n    <div className={pageTitleCss.page_title}>\r\n      {title}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default PageTitle;","import React, { memo, useRef } from 'react';\r\n\r\nimport { Form, Input, Button, Select, DatePicker } from 'antd';\r\n\r\nimport moment from 'moment'\r\n\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n\r\nimport pageSearchCss from './pageSearch.module.css'\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst PageSearch = memo((props) => {\r\n\r\n  const { pageSearchConfig = {} } = props\r\n\r\n  const { searchItemArr = [] } = pageSearchConfig\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const startDateField = useRef('')\r\n  const endDateField = useRef('')\r\n\r\n  const renderSearchItem = (searchItem) => {\r\n    switch (searchItem.type) {\r\n      case 'input':\r\n        return (\r\n          <Form.Item\r\n            label={searchItem.label}\r\n            name={searchItem.field}\r\n            rules={searchItem.rules}\r\n          >\r\n            <Input style={{ width: searchItem.width || '200px' }} placeholder={searchItem.placeholder || '请输入内容'} />\r\n          </Form.Item>\r\n        )\r\n      case 'select':\r\n        return (\r\n          <Form.Item\r\n            label={searchItem.label}\r\n            name={searchItem.field}\r\n            rules={searchItem.rules}\r\n          >\r\n            <Select\r\n              style={{ width: searchItem.width || '200px' }}\r\n              showSearch\r\n              placeholder={searchItem.placeholder || '请选择内容'}\r\n              optionFilterProp=\"children\"\r\n            >\r\n              {\r\n                searchItem.options && searchItem.options.map((option) => {\r\n                  return <Option key={option[searchItem.customizeOptionsValueKey || 'value']} value={option[searchItem.customizeOptionsValueKey || 'value']}>{option[searchItem.customizeOptionsLabelKey || 'lable']}</Option>\r\n                })\r\n              }\r\n\r\n            </Select>\r\n          </Form.Item>\r\n        )\r\n      case 'rangePicker':\r\n        startDateField.current = searchItem.field[0]\r\n        endDateField.current = searchItem.field[1]\r\n        return (\r\n          <Form.Item\r\n            label={searchItem.label}\r\n            name={searchItem.field[0]}\r\n            rules={searchItem.rules}\r\n          >\r\n            <RangePicker locale={locale} placeholder={searchItem.placeholder || ['开始日期', '结束日期']} style={{ width: searchItem.width || '260px' }} />\r\n          </Form.Item>\r\n        )\r\n\r\n      default:\r\n        console.warn(\"未找到对应组件\");\r\n    }\r\n  }\r\n\r\n  const search = () => {\r\n    let searchData = form.getFieldsValue()\r\n\r\n    if (searchData[startDateField.current]) {\r\n\r\n    }\r\n\r\n\r\n\r\n    if (startDateField.current && endDateField.current) {\r\n      const startDate = searchData[startDateField.current][0]\r\n      const endDate = searchData[startDateField.current][1]\r\n\r\n      searchData[startDateField.current] = moment(startDate).format().valueOf()\r\n      searchData[endDateField.current] = moment(endDate).format().valueOf()\r\n    }\r\n\r\n    console.log(searchData)\r\n    pageSearchConfig.getSearchValues(searchData)\r\n  }\r\n\r\n  const reset = () => {\r\n    form.resetFields()\r\n    pageSearchConfig.resetSearchValues()\r\n  }\r\n\r\n  return (\r\n    <div className={pageSearchCss.page_search}>\r\n      <Form\r\n        name=\"pageSearchForm\"\r\n        layout=\"inline\"\r\n        autoComplete=\"off\"\r\n        form={form}\r\n      >\r\n        {\r\n          searchItemArr.map((searchItem) => {\r\n            return (\r\n              <div key={searchItem.field} style={{ marginRight: pageSearchConfig.searchItemMarginRight || '28px' }}>{renderSearchItem(searchItem)}</div>\r\n            )\r\n          })\r\n        }\r\n      </Form>\r\n\r\n      <div>\r\n        <Button type=\"primary\" onClick={() => { search() }}>\r\n          查询\r\n        </Button>\r\n        <Button className={pageSearchCss.reset_btn} onClick={() => { reset() }}>\r\n          重置\r\n        </Button>\r\n      </div>\r\n    </div >\r\n  );\r\n});\r\n\r\nexport default PageSearch;","import React, { memo } from 'react';\r\n\r\nimport { Tree } from 'antd';\r\n\r\nconst ModalTree = memo((props) => {\r\n  const { halfCheckedKeys, treeData, fieldNames, onChange, value } = props\r\n\r\n  if (!treeData[0].key) {\r\n    console.warn('请给options的每一项 添加一个key（唯一），来提升渲染速度')\r\n  }\r\n\r\n  const onCheck = (checkedKeys, info) => {\r\n    if (halfCheckedKeys) {\r\n      // 携带选中节点父节点的value\r\n      onChange(checkedKeys.concat(info.halfCheckedKeys))\r\n    } else {\r\n      onChange(checkedKeys)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Tree\r\n        checkable\r\n        checkedKeys={value}\r\n        treeData={treeData}\r\n        fieldNames={fieldNames}\r\n        onCheck={(checkedKeys, info) => { onCheck(checkedKeys, info) }}\r\n      >\r\n\r\n      </Tree>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ModalTree;","import React, { memo, useEffect } from 'react';\r\n\r\nimport { Form, Input, Select, DatePicker, Button, Radio, Checkbox, } from 'antd'\r\n\r\nimport ModalTree from './children/modal-tree/ModalTree';\r\n\r\nimport { addTableDataH, getTableDataItemDetailsH } from '@/request/api/content/common/page'\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst PageModal = memo((props) => {\r\n\r\n  const { tableItemId, pageModalConfig, curdUrl, closeModal } = props\r\n  const { modalItemArr = [], labelCol = { offset: 0, span: 6 }, wrapperCol = { offset: 1, span: 8 } } = pageModalConfig\r\n\r\n  const [form] = Form.useForm()\r\n\r\n  const renderModalItem = (modalItem) => {\r\n    switch (modalItem.type) {\r\n      case 'input':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <Input style={{ width: modalItem.width || '200px' }} placeholder={modalItem.placeholder || '请输入内容'} />\r\n          </Form.Item>\r\n        )\r\n      case 'password':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <Input.Password style={{ width: modalItem.width || '200px' }} placeholder={modalItem.placeholder || '请输入内容'} />\r\n          </Form.Item>\r\n        )\r\n      case 'select':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <Select\r\n              style={{ width: modalItem.width || '200px' }}\r\n              showSearch\r\n              placeholder={modalItem.placeholder || '请选择内容'}\r\n              optionFilterProp=\"children\"\r\n            >\r\n              {\r\n                modalItem.options && modalItem.options.map((option) => {\r\n                  return <Option key={option[modalItem.customizeValueKey || 'value']} value={option[modalItem.customizeValueKey || 'value']}>{option[modalItem.customizeLabelKey || 'label']}</Option>\r\n                })\r\n              }\r\n\r\n            </Select>\r\n          </Form.Item>\r\n        )\r\n      case 'datePicker':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <DatePicker placeholder={modalItem.placeholder || '请选择日期'} style={{ width: modalItem.width || '260px' }} />\r\n          </Form.Item>\r\n        )\r\n      case 'rangePicker':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <RangePicker showTime={modalItem.showTime} placeholder={modalItem.placeholder || ['开始日期', '结束日期']} style={{ width: modalItem.width || '260px' }} />\r\n          </Form.Item>\r\n        )\r\n      case 'radio':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <Radio.Group>\r\n              {\r\n                modalItem.options.map((option) => {\r\n                  return <Radio key={option[modalItem.customizeValueKey || 'value']} value={option[modalItem.customizeValueKey || 'value']}>{option[modalItem.customizeLabelKey || 'label']}</Radio>\r\n                })\r\n              }\r\n\r\n            </Radio.Group>\r\n          </Form.Item>\r\n        )\r\n      case 'checkbox':\r\n        const newOptions = modalItem.options.map((item) => {\r\n          return {\r\n            label: item[modalItem.customizeOptionsLabelKey || 'label'],\r\n            value: item[modalItem.customizeOptionsValueKey || 'value']\r\n          }\r\n        })\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <Checkbox.Group options={newOptions} />\r\n          </Form.Item>\r\n        )\r\n\r\n      case 'tree':\r\n        return (\r\n          <Form.Item\r\n            label={modalItem.label}\r\n            name={modalItem.field}\r\n            rules={modalItem.rules}\r\n          >\r\n            <ModalTree halfCheckedKeys={modalItem.halfCheckedKeys} treeData={modalItem.options} fieldNames={{ title: modalItem.customizeOptionsLabelKey || 'label', key: modalItem.customizeOptionsValueKey || 'value', children: modalItem.customizeOptionsChildrenKey || 'children' }}></ModalTree>\r\n          </Form.Item>\r\n        )\r\n      default:\r\n        console.warn('未找到对应组件')\r\n    }\r\n  }\r\n\r\n  const preserve = () => {\r\n    addTableDataH(curdUrl, form.getFieldsValue()).then((res) => {\r\n      console.log('保存成功')\r\n      // true：重新请求table表格数据\r\n      closeModal('占位参数', true)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (tableItemId) {\r\n      getTableDataItemDetailsH(curdUrl, { id: tableItemId }).then((res) => {\r\n        console.log(res)\r\n        form.setFieldsValue(res.data)\r\n      })\r\n    }\r\n  })\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        name='pageModalForm'\r\n        form={form}\r\n        labelCol={labelCol}\r\n        wrapperCol={wrapperCol}\r\n        autoComplete=\"off\"\r\n      >\r\n        {\r\n          modalItemArr.map((modalItem) => {\r\n            return (\r\n              <div key={modalItem.field} >{renderModalItem(modalItem)}</div>\r\n            )\r\n          })\r\n        }\r\n      </Form>\r\n      <div style={{ width: '200px', margin: '0 auto', textAlign: 'center' }}>\r\n        <Button style={{ marginRight: '10px' }} >\r\n          取消\r\n        </Button>\r\n        <Button type=\"primary\" onClick={() => { preserve() }}>\r\n          确定\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default PageModal;","import { getQuery, remove, post, getRestful } from '@/request/http.js'\r\n\r\nexport function getTableDataH(url, params) {\r\n  return getQuery(url, params)\r\n}\r\n\r\nexport function removeTableDataH(url, params) {\r\n  return remove(url, params)\r\n}\r\n\r\nexport function startTableDataH(url, params) {\r\n  return post(url, params)\r\n}\r\n\r\nexport function stopTableDataH(url, params) {\r\n  return post(url, params)\r\n}\r\n\r\nexport function addTableDataH(url, params) {\r\n  return post(url, params)\r\n}\r\n\r\nexport function getTableDataItemDetailsH(url, params) {\r\n  return getRestful(url, params)\r\n}","import React, { memo, useEffect, useCallback, useState, useRef } from 'react';\r\n\r\nimport { Button, Table, Space, Switch, message, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nimport _ from 'lodash'\r\n\r\nimport { getTableDataH, removeTableDataH, startTableDataH, stopTableDataH } from '@/request/api/content/common/page'\r\n\r\nimport PageModal from '../page-modal/PageModal';\r\n\r\nimport pageTableCss from './pageTable.module.css'\r\nimport './pageTableResetAntd.css'\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PageTable = memo((props) => {\r\n\r\n  const { pageRequestUrl = {}, pageTableConfig = {}, searchData = {}, pageModalConfig = {} } = props\r\n  const { curdUrl, startUrl, stopUrl } = pageRequestUrl\r\n  const { columns } = pageTableConfig\r\n\r\n  const pageNum = useRef(1)\r\n  const pageSize = useRef(10)\r\n\r\n  const [tableData, setTableData] = useState({})\r\n\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([])\r\n\r\n  const modalTitle = useRef('')\r\n  const tableItemId = useRef()\r\n\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const newColumns = [\r\n    ...columns,\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      align: \"center\",\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          {<Button type=\"text\" style={{ color: '#1890FF' }} onClick={() => { }}>查看</Button>}\r\n          {<Button type=\"text\" style={{ color: '#48ED4B' }} onClick={() => { showModal('修改', record.id) }}>修改</Button>}\r\n          {<Button type=\"text\" style={{ color: '#EB3030' }} onClick={() => { removeTableData(record.id) }}>删除</Button>}\r\n\r\n          {<Switch checkedChildren=\"启用\" unCheckedChildren=\"禁用\"\r\n            checked={record.status === 1} onClick={(checked) => { enableOrDisable(checked, [record.id]) }} />}\r\n        </Space>\r\n      ),\r\n    }\r\n  ]\r\n\r\n  const paginationConfig = {\r\n    pageSizeOptions: [5, 10, 15, 20],\r\n    responsive: true,\r\n    showSizeChanger: true,\r\n    showQuickJumper: true,\r\n    showTotal: () => `共` + tableData.total + `条`,\r\n    pageSize: pageSize.current,\r\n    current: pageNum.current,\r\n    total: tableData.total,\r\n    onChange: (current, pagesize) => {\r\n      pageNum.current = current\r\n      pageSize.current = pagesize\r\n      getTableData()\r\n    }\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys: selectedRowKeys,\r\n    onChange: (selectedRowKeys) => {\r\n      setSelectedRowKeys(selectedRowKeys)\r\n    }\r\n  }\r\n\r\n  const commonConfirm = (title, callBackFun) => {\r\n    confirm({\r\n      title: title,\r\n      icon: <ExclamationCircleOutlined />,\r\n      onOk() {\r\n        callBackFun && callBackFun()\r\n      },\r\n      onCancel() {\r\n        console.log('Cancel');\r\n      },\r\n    });\r\n  }\r\n\r\n  const getTableData = useCallback(() => {\r\n    const cloneDeepSearchData = _.cloneDeep(searchData)\r\n    cloneDeepSearchData.pageNum = pageNum.current\r\n    cloneDeepSearchData.pageSize = pageSize.current\r\n    getTableDataH(curdUrl, cloneDeepSearchData).then((res) => {\r\n      console.log(res)\r\n      setTableData(res.data)\r\n    })\r\n  }, [curdUrl, searchData])\r\n\r\n  const showModal = (title, rowId) => {\r\n    modalTitle.current = title\r\n    rowId && (tableItemId.current = rowId)\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const closeModal = (_, isRequestTableData) => {\r\n    if (isRequestTableData) {\r\n      getTableData()\r\n    }\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const removeTableData = (id) => {\r\n\r\n    function callBackFun() {\r\n      removeTableDataH(curdUrl, { id }).then(() => {\r\n        message.success('删除成功')\r\n        getTableData()\r\n      })\r\n    }\r\n\r\n    commonConfirm('请确认是否删除？', callBackFun)\r\n  }\r\n\r\n  const enableRows = () => {\r\n    if (selectedRowKeys.length === 0) {\r\n      message.warning('请至少选择一条数据')\r\n      return\r\n    }\r\n    enableOrDisable(true, selectedRowKeys)\r\n  }\r\n\r\n  const disableRows = () => {\r\n    if (selectedRowKeys.length === 0) {\r\n      message.warning('请至少选择一条数据')\r\n      return\r\n    }\r\n\r\n    enableOrDisable(false, selectedRowKeys)\r\n  }\r\n\r\n  // 启用或禁用\r\n  const enableOrDisable = (isEnable, rowIdArr) => {\r\n    if (isEnable) {\r\n      // 启用\r\n      function callBackFun() {\r\n        startTableDataH(startUrl || `${curdUrl}start`, { ids: rowIdArr }).then((res) => {\r\n          message.success('已启用')\r\n          getTableData()\r\n        })\r\n      }\r\n\r\n      commonConfirm('是否启用数据？', callBackFun)\r\n\r\n    } else {\r\n      // 禁用\r\n      function callBackFun() {\r\n        stopTableDataH(stopUrl || `${curdUrl}stop`, { ids: rowIdArr }).then((res) => {\r\n          message.warning('已禁用')\r\n          getTableData()\r\n        })\r\n      }\r\n\r\n      commonConfirm('是否禁用数据？', callBackFun)\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getTableData()\r\n  }, [getTableData])\r\n\r\n  return (\r\n    <div className={`${pageTableCss.page_table} page_table`}>\r\n      <div className={pageTableCss.page_table_top}>\r\n        <div className={pageTableCss.page_table_title}>\r\n          查询表格\r\n        </div>\r\n        <div className='page_table_btns'>\r\n          <Button type=\"primary\" onClick={() => { showModal('新建') }}>新建</Button>\r\n          <Button className={pageTableCss.start_btn} onClick={() => { enableRows() }}>启用</Button>\r\n          <Button className={pageTableCss.stop_btn} onClick={() => { disableRows() }}>停用</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Table size=\"small\" style={{ padding: '0 36px' }} columns={newColumns} dataSource={tableData.list} pagination={paginationConfig} rowSelection={rowSelection} rowKey={record => record.id} />\r\n\r\n      <Modal title={modalTitle.current} destroyOnClose visible={isModalVisible} onCancel={closeModal} footer={[]}>\r\n        <PageModal tableItemId={tableItemId.current} pageModalConfig={pageModalConfig} curdUrl={curdUrl} closeModal={closeModal}></PageModal>\r\n      </Modal>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default PageTable;","import React, { memo, useState } from 'react';\r\n\r\nimport moment from 'moment'\r\n\r\nimport PageTitle from './children/page-title/PageTitle';\r\nimport PageSearch from './children/page-search/PageSearch';\r\nimport PageTable from './children/page-table/PageTable';\r\n\r\nconst Page = memo((props) => {\r\n\r\n  const { pageConfig = {} } = props\r\n\r\n  const { pageRequestUrl = {}, pageTitleConfig = {}, pageSearchConfig = {}, pageTableConfig = {}, pageModalConfig = {} } = pageConfig\r\n\r\n  const [searchData, setSearchData] = useState({})\r\n\r\n  const newPageSearchConfig = {\r\n    ...pageSearchConfig,\r\n    getSearchValues(searchData) {\r\n      console.log(searchData)\r\n      setSearchData(searchData)\r\n      console.log(moment(searchData.date[0]).format('YYYY/MM/DD HH:mm:ss'))\r\n\r\n    },\r\n    resetSearchValues() {\r\n      setSearchData({})\r\n    },\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle pageTitleConfig={pageTitleConfig}></PageTitle>\r\n\r\n      <div style={{ padding: '18px' }}>\r\n        <PageSearch pageSearchConfig={newPageSearchConfig}></PageSearch>\r\n\r\n        <PageTable pageRequestUrl={pageRequestUrl} searchData={searchData} pageTableConfig={pageTableConfig} pageModalConfig={pageModalConfig}></PageTable>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Page;","import React, { memo } from 'react';\r\n\r\nimport { Tag } from 'antd'\r\nimport Page from '@/component/business-components/page/Page';\r\n\r\nconst OneOne = memo(() => {\r\n\r\n  const pageConfig = {\r\n\r\n    pageRequestUrl: {\r\n      curdUrl: '/oneOne',\r\n      startUrl: '/oneOne/start',\r\n      stopUrl: '/oneOne/stop',\r\n    },\r\n\r\n    pageTitleConfig: {\r\n      title: '测试page'\r\n    },\r\n\r\n    pageSearchConfig: {\r\n      // searchItemMarginRight: '50px',\r\n      searchItemArr: [\r\n        {\r\n          type: 'input',\r\n          label: '姓名',\r\n          field: 'name'\r\n        },\r\n        {\r\n          type: 'select',\r\n          label: '性别',\r\n          field: 'gender'\r\n        },\r\n        {\r\n          type: 'rangePicker',\r\n          label: '查询日期',\r\n          format: 'timestamp',\r\n          field: ['startTime', 'endTime']\r\n        }\r\n      ],\r\n    },\r\n\r\n    pageTableConfig: {\r\n      columns: [\r\n        {\r\n          title: '角色名称',\r\n          dataIndex: 'name',\r\n          key: 'name',\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: '手机号',\r\n          dataIndex: 'iphone',\r\n          key: 'iphone',\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: '职务',\r\n          dataIndex: 'jobTitle',\r\n          key: 'jobTitle',\r\n          align: \"center\",\r\n          render: (text) => {\r\n            if (text === 1) {\r\n              return <Tag color=\"processing\">管理员</Tag>\r\n            } else if (text === 2) {\r\n              return <Tag color=\"processing\">测试员</Tag>\r\n            }\r\n          }\r\n        },\r\n\r\n      ]\r\n    },\r\n    pageModalConfig: {\r\n      modalItemArr: [\r\n        {\r\n          type: 'input',\r\n          label: '姓名',\r\n          field: 'name',\r\n          rules: []\r\n        },\r\n        {\r\n          type: 'password',\r\n          label: '密码',\r\n          field: 'password',\r\n          rules: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          label: '选择水果',\r\n          field: 'fruit',\r\n          rules: [],\r\n          options: [\r\n            {\r\n              label: '苹果',\r\n              value: 1,\r\n            },\r\n            {\r\n              label: '香蕉',\r\n              value: 2,\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: 'radio',\r\n          label: '单选',\r\n          field: 'radioVal',\r\n          rules: [],\r\n          options: [\r\n            {\r\n              value: 1,\r\n              label: '男'\r\n            }, {\r\n              value: 2,\r\n              label: '女'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: 'checkbox',\r\n          label: '多选',\r\n          field: 'checkboxVal',\r\n          rules: [],\r\n          options: [\r\n            {\r\n              value: 1,\r\n              label: '红旗'\r\n            }, {\r\n              value: 2,\r\n              label: '吉利'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: 'tree',\r\n          label: '树形选择',\r\n          field: 'treeVal',\r\n          rules: [],\r\n          halfCheckedKeys: true,\r\n          options: [\r\n            {\r\n              value: 1,\r\n              key: 1,\r\n              label: '编程语言',\r\n              children: [\r\n                {\r\n                  key: 2,\r\n                  value: 2,\r\n                  label: 'JavaScript'\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: 'datePicker',\r\n          label: '选择日期',\r\n          field: 'datePickerVal',\r\n          rules: [],\r\n        },\r\n        {\r\n          type: 'rangePicker',\r\n          label: '选择日期区间',\r\n          field: 'rangePickerVal',\r\n          rules: [],\r\n          showTime: true,\r\n        },\r\n      ]\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Page pageConfig={pageConfig}></Page>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default OneOne"],"sourceRoot":""}