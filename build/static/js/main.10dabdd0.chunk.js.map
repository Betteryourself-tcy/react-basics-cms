{"version":3,"sources":["component/frame/frame-work/frameWork.module.css","view/login/login.module.css","store/const/business.js","assets/img/login/login_bg.jpeg","component/frame/frame-work/FrameWork.js","assets/data/menuData.js","router/login/login.js","view/login/Login.js","router/content/home.js","router/content/one.js","router/content/not-found.js","router/index.js","utils/global/authenticationPath.js","assets/data/themeConfig.js","App.js","utils/global/storageStateData.js","assets/api/business.js","index.js","store/const/frameWork.js","store/createAction/frameWork.js","store/reducer/frameWork.js","store/reducer/business.js","store/reducer/index.js","store/index.js"],"names":["module","exports","GET_COMMON_DATA_ONE","Header","Sider","Content","SubMenu","FrameWork","memo","props","route","history","useHistory","dispatch","useDispatch","theme","useContext","ThemeContext","useSelector","state","currentOneMenuPath","get","currentTwoMenuPath","menuData","shallowEqual","useState","collapsed","setCollapsed","openKeys","setOpenKeys","toggle","useCallback","getSelectedPath","twoMenuPath","oneMenuPath","push","setCurrentTwoMenuPathA","setCurrentOneMenuPathA","exit","localStorage","clear","setMenuDataA","replace","className","style","height","background","asideBgColor","trigger","collapsible","frameWorkCss","cms_name","mode","color","menuTextColor","length","defaultSelectedKeys","defaultOpenKeys","onOpenChange","keys","map","oneMenu","children","title","name","icon","SmileOutlined","twoMenu","Item","TeamOutlined","onClick","path","HomeOutlined","headBgColor","header","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","fontSize","header_right","size","type","content","mainBgColor","fallback","renderRoutes","routes","loginRouter","exact","component","loginCss","backgroundImage","loginBgImg","default","card","width","labelCol","span","wrapperCol","onFinish","setItem","menuPathArr","recurseArr","arr","forEach","item","setMenuPathArrA","onFinishFailed","errorInfo","console","log","autoComplete","label","rules","required","message","placeholder","prefix","UserOutlined","Password","LockOutlined","offset","htmlType","block","homeRouter","lazy","allowAccess","oneRouter","notFoundRouter","render","to","location","store","getState","getItem","pathname","isToPage","routeItem","find","itemPath","warning","authenticationPath","themeConfig","require","createContext","App","window","addEventListener","sessionStorage","JSON","stringify","currentOneMenuPathR","currentTwoMenuPathR","menuDataR","menuPathArrR","resetFrameWorkStateA","parse","locale","zhCN","Provider","value","Mock","setup","timeout","mock","RegExp","options","url","total","list","id","iphone","jobTitle","status","password","fruit","radioVal","checkboxVal","treeVal","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","document","getElementById","SET_CURRENT_ONE_MENU_PATH","SET_CURRENT_TWO_MENU_PATH","RESET_FRAMEWORK_STATE","SET_MENU_DATA","SET_MENU_PATH_ARR","types","Map","defaultState","reducer","action","set","defaultReducer","commonDataOneR","commonDataOne","allReducer","combineReducers","frameWork","frameWorkReducer","business","businessReducer","storeenhancer","applyMiddleware","thunkMiddleware","createStore","composeWithDevTools"],"mappings":"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","file":"static/js/main.10dabdd0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cms_name\":\"frameWork_cms_name__pMWnx\",\"header\":\"frameWork_header__1UWFz\",\"content\":\"frameWork_content__5mJex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"login_content__1G2BD\",\"card\":\"login_card__25XBM\"};","export const GET_COMMON_DATA_ONE = 'GET_COMMON_DATA_ONE'","export default __webpack_public_path__ + \"static/media/login_bg.494b9bd1.jpeg\";","import React, { memo, useState, useCallback, useContext, Suspense } from 'react';\r\n\r\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux'\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { renderRoutes } from 'react-router-config'\r\n\r\nimport { ThemeContext } from '@/App';\r\n\r\nimport { setCurrentOneMenuPathA, setCurrentTwoMenuPathA, setMenuDataA } from '@/store/createAction/frameWork.js'\r\n\r\n// 样式\r\nimport frameWorkCss from './frameWork.module.css'\r\nimport './frameWorkResetAntd.css'\r\n\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  HomeOutlined,\r\n  SmileOutlined,\r\n  TeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst FrameWork = memo((props) => {\r\n  const { route } = props\r\n\r\n  const history = useHistory();\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const { currentOneMenuPath, currentTwoMenuPath, menuData } = useSelector((state) => {\r\n    return {\r\n      currentOneMenuPath: state.get('frameWork').get('currentOneMenuPathR'),\r\n      currentTwoMenuPath: state.get('frameWork').get('currentTwoMenuPathR'),\r\n      menuData: state.get('frameWork').get('menuDataR')\r\n    }\r\n  }, shallowEqual)\r\n\r\n  const [collapsed, setCollapsed] = useState(false)\r\n\r\n  const [openKeys, setOpenKeys] = useState([]);\r\n\r\n  const toggle = useCallback(() => {\r\n    setCollapsed(!collapsed)\r\n  }, [collapsed])\r\n\r\n  const getSelectedPath = useCallback((twoMenuPath, oneMenuPath) => {\r\n    history.push(twoMenuPath)\r\n\r\n    // 派发(把选中的一级菜单 二级菜单path保存到redux中)\r\n    dispatch(setCurrentTwoMenuPathA(twoMenuPath))\r\n    dispatch(setCurrentOneMenuPathA(oneMenuPath))\r\n  }, [history, dispatch])\r\n\r\n  const onOpenChange = keys => {\r\n    setOpenKeys([keys[keys.length - 1]]);\r\n  };\r\n\r\n  const exit = useCallback(() => {\r\n    // 需要清空缓存数据以及重置redux frameWork state数据\r\n    localStorage.clear()\r\n    dispatch(setCurrentTwoMenuPathA('/content/home'))\r\n    dispatch(setCurrentOneMenuPathA(''))\r\n    dispatch(setMenuDataA([]))\r\n\r\n    history.replace('/login')\r\n  }, [dispatch, history])\r\n\r\n\r\n  return (\r\n    <div className='frame_work'>\r\n      <Layout style={{ height: '100vh' }}>\r\n        <Sider\r\n          style={{ background: theme.asideBgColor }}\r\n          trigger={null}\r\n          collapsible\r\n          collapsed={collapsed}\r\n        >\r\n          <div className={frameWorkCss.cms_name}>{collapsed ? '' : 'Betteryourself'}</div>\r\n          <Menu\r\n            theme=\"dark\"\r\n            mode=\"inline\"\r\n            style={{ color: theme.menuTextColor }}\r\n            openKeys={openKeys.length === 0 ? [currentOneMenuPath] : openKeys}\r\n            defaultSelectedKeys={[currentTwoMenuPath ? currentTwoMenuPath : '/content/home']}\r\n            defaultOpenKeys={[currentOneMenuPath]}\r\n            onOpenChange={onOpenChange}\r\n          >\r\n            {\r\n              menuData && menuData.map((oneMenu) => {\r\n                if (!oneMenu.children || oneMenu.children.length === 0) {\r\n                  return (<Menu.Item key={oneMenu.path} icon={<HomeOutlined />} onClick={() => { getSelectedPath(oneMenu.path) }}>{oneMenu.name}</Menu.Item>)\r\n                } else {\r\n                  return (\r\n                    <SubMenu key={oneMenu.path} title={oneMenu.name} icon={<SmileOutlined />}>\r\n                      {\r\n                        oneMenu.children.map((twoMenu) => {\r\n                          return (\r\n                            <Menu.Item key={twoMenu.path} icon={<TeamOutlined />} onClick={() => { getSelectedPath(twoMenu.path, oneMenu.path) }}>{twoMenu.name}</Menu.Item>\r\n                          )\r\n                        })\r\n                      }\r\n                    </SubMenu>\r\n                  )\r\n                }\r\n              })\r\n            }\r\n          </Menu>\r\n        </Sider>\r\n\r\n        <Layout>\r\n          <Header style={{ background: theme.headBgColor }} className={frameWorkCss.header} >\r\n\r\n            {\r\n              React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n                className: 'trigger',\r\n                style: { color: '#000000', fontSize: '20px' },\r\n                onClick: toggle,\r\n              })\r\n            }\r\n\r\n            <div className={frameWorkCss.header_right}>\r\n              <Button onClick={() => { exit() }} size=\"small\" type=\"primary\">退出程序</Button>\r\n            </div>\r\n\r\n          </Header>\r\n          <Content\r\n            className={frameWorkCss.content}\r\n            style={{\r\n              background: theme.mainBgColor\r\n            }}\r\n          >\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n              {\r\n                renderRoutes(route.routes)\r\n              }\r\n            </Suspense>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nexport default FrameWork;","const menuData = [\r\n  {\r\n    name: '首页',\r\n    path: '/content/home',\r\n  },\r\n  {\r\n    name: 'one',\r\n    path: '/content/one',\r\n    children: [\r\n      {\r\n        name: 'oneOne',\r\n        path: '/content/one/One',\r\n      }, {\r\n        name: 'oneTwo',\r\n        path: '/content/one/Two',\r\n      }\r\n    ]\r\n  },\r\n  // {\r\n  //   name: 'two',\r\n  //   path: '/content/two',\r\n  //   children: [\r\n  //     {\r\n  //       name: 'twoOne',\r\n  //       path: '/content/two/One',\r\n  //     }, {\r\n  //       name: 'twoTwo',\r\n  //       path: '/content/two/Two',\r\n  //     }\r\n  //   ]\r\n  // }\r\n]\r\n\r\nexport default menuData","import Login from '@/view/login/Login'\r\n\r\nconst loginRouter = [\r\n  {\r\n    path: \"/login\",\r\n    exact: true,\r\n    component: Login,\r\n  },\r\n]\r\n\r\nexport default loginRouter","import React, { memo, useContext } from 'react';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { Form, Input, Button, } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { setMenuDataA, setMenuPathArrA } from '@/store/createAction/frameWork'\r\n\r\nimport { ThemeContext } from '@/App';\r\n\r\nimport loginCss from './login.module.css'\r\nimport './loginResetAntd.css'\r\n\r\n// 模拟导航数据\r\nimport menuData from '@/assets/data/menuData'\r\n\r\nconst Login = memo(() => {\r\n\r\n  const history = useHistory();\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const onFinish = () => {\r\n\r\n    localStorage.setItem('token', 'token')\r\n\r\n    dispatch(setMenuDataA(menuData))\r\n\r\n    // 递归把导航菜单转成一维数组（path）\r\n    const menuPathArr = []\r\n\r\n    function recurseArr(arr) {\r\n      arr.forEach((item) => {\r\n        menuPathArr.push(item.path)\r\n        if (item.children) {\r\n          recurseArr(item.children)\r\n        }\r\n      })\r\n    }\r\n\r\n    recurseArr(menuData)\r\n\r\n    dispatch(setMenuPathArrA(menuPathArr))\r\n\r\n    history.replace('/content')\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className={loginCss.content} style={{ backgroundImage: `url(${theme.loginBgImg.default})` }}>\r\n        <div className={loginCss.card}>\r\n          <h1>Hello Betteryourself</h1>\r\n          <Form\r\n            style={{ width: '100%' }}\r\n            name=\"basic\"\r\n            labelCol={{ span: 5 }}\r\n            wrapperCol={{ span: 18 }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete=\"off\"\r\n          >\r\n            <Form.Item\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              rules={[{ required: true, message: 'Please input your username!' }]}\r\n            >\r\n              <Input placeholder=\"Please input your username!\" prefix={<UserOutlined className=\"site-form-item-icon\" />} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              rules={[{ required: true, message: 'Please input your password!' }]}\r\n            >\r\n              <Input.Password placeholder=\"Please input your password!\" prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n            </Form.Item>\r\n\r\n            <Form.Item wrapperCol={{ offset: 5, span: 18 }}>\r\n              <Button type=\"primary\" htmlType=\"submit\" block>\r\n                登录\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Login;","import { lazy } from 'react';\r\n\r\nconst Home = lazy(() => import('@/view/content/home/Home'))\r\n\r\nconst Test = lazy(() => import('@/view/content/home/children/test/Test'))\r\n\r\nconst homeRouter = [\r\n  {\r\n    path: '/content/home',\r\n    exact: true,\r\n    component: Home,\r\n  },\r\n  {\r\n    path: \"/content/home/Test\",\r\n    exact: true,\r\n    component: Test,\r\n    // 是否有token后就可以访问的页面 （和导航权限无关的页面）\r\n    allowAccess: true\r\n  },\r\n]\r\n\r\nexport default homeRouter","import { lazy } from 'react';\r\n\r\nconst One = lazy(() => import('@/view/content/one/OneOne'))\r\n\r\nconst oneRouter = [\r\n  {\r\n    path: '/content/one/One',\r\n    exact: true,\r\n    component: One\r\n  }\r\n]\r\n\r\nexport default oneRouter","import { lazy } from 'react';\r\n\r\nconst NotFound = lazy(() => import('@/view/content/not-found/NotFound'))\r\n\r\nconst notFoundRouter = [\r\n  {\r\n    path: '/content/not-found',\r\n    exact: true,\r\n    component: NotFound,\r\n    // 是否有token后 就可以访问的页面\r\n    allowAccess: true\r\n  }\r\n]\r\n\r\nexport default notFoundRouter","import { Redirect } from 'react-router-dom'\r\n\r\nimport { authenticationPath } from '@/utils/global'\r\n\r\nimport FrameWork from '@/component/frame/frame-work/FrameWork'\r\n\r\nimport loginRouter from './login/login'\r\n\r\nimport homeRouter from './content/home'\r\nimport oneRouter from './content/one'\r\nimport notFoundRouter from './content/not-found'\r\n\r\nconst routes = [\r\n  {  //重定向\r\n    path: '/', //一旦匹配到是这个路径 就会执行render函数\r\n    exact: true,\r\n    render: () => {\r\n      //跳转到这个路径\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n  },\r\n\r\n  ...loginRouter,\r\n\r\n  {\r\n    path: '/content',\r\n    render: ({ route, location }) => {\r\n      return authenticationPath(route, location)\r\n    },\r\n    component: FrameWork,\r\n    routes: [\r\n      {  // 重定向\r\n        path: '/content', // 一旦匹配到是这个路径 就会执行render函数\r\n        exact: true,\r\n        render: () => {\r\n          // 跳转到这个路径\r\n          return <Redirect to=\"/content/home\" />\r\n        }\r\n      },\r\n\r\n      ...homeRouter,\r\n      ...oneRouter,\r\n      ...notFoundRouter\r\n    ]\r\n  },\r\n\r\n  {\r\n    path: '**',\r\n    render: () => {\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n  }\r\n]\r\n\r\nexport default routes","import { Redirect } from 'react-router-dom'\r\n\r\nimport { message } from 'antd'\r\n\r\nimport store from '@/store'\r\n\r\nexport function authenticationPath(route, location) {\r\n  const state = store.getState();\r\n  const menuPathArr = state.get('frameWork').get('menuPathArrR')\r\n\r\n  if (localStorage.getItem('token')) {\r\n\r\n    if (location.pathname === '/content') {\r\n      return <route.component route={route}></route.component>\r\n    }\r\n\r\n    let isToPage = false\r\n\r\n    let routeItem = route.routes.find(item => item.path === location.pathname)\r\n    if (routeItem && routeItem.allowAccess) {\r\n      isToPage = true\r\n    } else {\r\n      for (let itemPath of menuPathArr) {\r\n        if (location.pathname === itemPath) {\r\n          isToPage = true\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    if (isToPage) {\r\n      return <route.component route={route}></route.component>\r\n    } else {\r\n      return <Redirect to=\"/content/not-found\" />\r\n    }\r\n\r\n  } else {\r\n    message.warning('请先登录')\r\n    return <Redirect to=\"/login\" />\r\n  }\r\n}","\r\n// 比craco.config.js中的自定义主题优先级高\r\nconst themeConfig = {\r\n  // 登录页面背景图\r\n  loginBgImg: require('../img/login/login_bg.jpeg'),\r\n  // 侧边导航栏背景颜色\r\n  asideBgColor: '',\r\n  // head 背景颜色\r\n  headBgColor: '#ffffff',\r\n  // main背景色\r\n  mainBgColor: '',\r\n}\r\n\r\nexport default themeConfig","import React, { memo, createContext } from 'react';\n\nimport { ConfigProvider } from 'antd'\nimport zhCN from 'antd/lib/locale/zh_CN';\nimport 'moment/locale/zh-cn';\n\n// 通过Provider把store共享出去\nimport { Provider } from 'react-redux'\nimport store from '@/store'\n\nimport {\n  BrowserRouter,\n} from 'react-router-dom'\n\nimport { renderRoutes } from 'react-router-config'\nimport routes from '@/router/index'\n\nimport { setStoreData, getDataMergeState } from '@/utils/global'\n\nimport themeConfig from '@/assets/data/themeConfig';\n\nexport const ThemeContext = createContext()\n\nconst App = memo(() => {\n\n  // 监听浏览器刷新 缓存部分redux数据\n  setStoreData()\n\n  // 获取缓存中的数据 并保存到redux中\n  getDataMergeState()\n\n  return (\n    <ConfigProvider locale={zhCN} >\n      <ThemeContext.Provider value={themeConfig}>\n        <Provider store={store}>\n          <BrowserRouter>\n            {renderRoutes(routes)}\n          </BrowserRouter>\n        </Provider>\n      </ThemeContext.Provider>\n    </ConfigProvider>\n  );\n});\n\nexport default App;","import store from '@/store'\r\nimport { resetFrameWorkStateA } from '@/store/createAction/frameWork'\r\n\r\nexport function setStoreData() {\r\n  // 在页面刷新时将redux里的部分信息保存到sessionStorage里\r\n  window.addEventListener(\"beforeunload\", () => {\r\n    const state = store.getState();\r\n    sessionStorage.setItem(\r\n      \"frameWorkState\",\r\n      JSON.stringify({\r\n        currentOneMenuPathR: state.get('frameWork').get('currentOneMenuPathR'),\r\n        currentTwoMenuPathR: state.get('frameWork').get('currentTwoMenuPathR'),\r\n        menuDataR: state.get('frameWork').get('menuDataR'),\r\n        menuPathArrR: state.get('frameWork').get('menuPathArrR'),\r\n      })\r\n    );\r\n  });\r\n}\r\n\r\n//获取缓存数据 合并redux frameWork state数据\r\nexport function getDataMergeState() {\r\n  if (sessionStorage.getItem(\"frameWorkState\")) {\r\n\r\n    store.dispatch(resetFrameWorkStateA({ ...store.getState().get('frameWork'), ...JSON.parse(sessionStorage.getItem(\"frameWorkState\")) }))\r\n\r\n    sessionStorage.clear()\r\n  }\r\n}","import Mock from 'mockjs';\r\n\r\n// 模拟延迟\r\nMock.setup({\r\n  timeout: 200\r\n})\r\n\r\n// 公共数据\r\nMock.mock('http://localhost:3001/commonData', 'get', function () {\r\n  return Mock.mock({\r\n    'code': 0,\r\n    'msg': '',\r\n    'result': '我是公共的数据 哈哈哈'\r\n  })\r\n})\r\n\r\n// 查看表格数据及详情\r\nMock.mock(RegExp(`http://localhost:3001/oneOne?.*`), 'get', function (options) {\r\n  console.log(options)\r\n  if (options.url === 'http://localhost:3001/oneOne?pageNum=1&pageSize=10') {\r\n    return Mock.mock({\r\n      'code': 0,\r\n      'msg': '',\r\n      'data': {\r\n        total: 2,\r\n        list: [\r\n          {\r\n            id: 1,\r\n            name: 'tom',\r\n            iphone: '1323097666',\r\n            jobTitle: 1,\r\n            status: 1,\r\n          },\r\n          {\r\n            id: 2,\r\n            name: 'lili',\r\n            iphone: '1323097888',\r\n            jobTitle: 2,\r\n            status: 0\r\n          }\r\n        ]\r\n      }\r\n    })\r\n  } else {\r\n    return Mock.mock({\r\n      'code': 0,\r\n      'msg': '',\r\n      'data': {\r\n        name: '哈哈哈',\r\n        password: '123456',\r\n        fruit: 1,\r\n        radioVal: 1,\r\n        checkboxVal: [1],\r\n        treeVal: [2]\r\n      }\r\n    })\r\n  }\r\n\r\n})\r\n\r\n// 删除某条数据\r\nMock.mock(RegExp(`http://localhost:3001/oneOne.*`), 'delete', function () {\r\n  return Mock.mock({\r\n    'code': 0,\r\n    'msg': '',\r\n    'data': '删除成功'\r\n  })\r\n})\r\n\r\n// 启用数据\r\nMock.mock(RegExp(`http://localhost:3001/oneOne/start.*`), 'post', function () {\r\n  return Mock.mock({\r\n    'code': 0,\r\n    'msg': '',\r\n    'data': '已启用'\r\n  })\r\n})\r\n\r\n// 禁用数据\r\nMock.mock(RegExp(`http://localhost:3001/oneOne/stop.*`), 'post', function () {\r\n  return Mock.mock({\r\n    'code': 0,\r\n    'msg': '',\r\n    'data': '已禁用'\r\n  })\r\n})\r\n\r\n// 新增数据\r\nMock.mock(RegExp(`http://localhost:3001/oneOne.*`), 'post', function () {\r\n  return Mock.mock({\r\n    'code': 0,\r\n    'msg': '',\r\n    'data': '添加成功'\r\n  })\r\n})","// 入口文件\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nimport App from './App';\n\nimport '@/assets/api/business'; // 引入mock文件\n\n// 样式初始化\nimport '@/assets/css/index.css'\nimport '@/assets/css/resetAntdStyle.css'\n\nSentry.init({\n  dsn: \"\",\n  integrations: [new Integrations.BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","export const SET_CURRENT_ONE_MENU_PATH = 'SET_CURRENT_ONE_MENU_PATH'\r\nexport const SET_CURRENT_TWO_MENU_PATH = 'SET_CURRENT_TWO_MENU_PATH'\r\nexport const RESET_FRAMEWORK_STATE = 'RESET_FRAMEWORK_STATE'\r\nexport const SET_MENU_DATA = 'SET_MENU_DATA'\r\nexport const SET_MENU_PATH_ARR = 'SET_MENU_PATH_ARR'","import { Map } from 'immutable'\r\n\r\nimport * as types from '../const/frameWork'\r\n\r\n// 重置redux frameWork state数据\r\nexport const resetFrameWorkStateA = (state) => {\r\n  return {\r\n    type: types.RESET_FRAMEWORK_STATE,\r\n    state: Map(state)\r\n  }\r\n}\r\n\r\nexport const setCurrentOneMenuPathA = (currentOneMenuPath) => {\r\n  return {\r\n    type: types.SET_CURRENT_ONE_MENU_PATH,\r\n    currentOneMenuPath\r\n  }\r\n}\r\n\r\nexport const setCurrentTwoMenuPathA = (currentTwoMenuPath) => {\r\n  return {\r\n    type: types.SET_CURRENT_TWO_MENU_PATH,\r\n    currentTwoMenuPath\r\n  }\r\n}\r\n\r\nexport const setMenuDataA = (menuData) => {\r\n  return {\r\n    type: types.SET_MENU_DATA,\r\n    menuData\r\n  }\r\n}\r\n\r\n// 设置一维数组（导航） 登录拿到token后 访问某个path 判断是否有权限时会用到\r\nexport const setMenuPathArrA = (menuPathArr) => {\r\n  return {\r\n    type: types.SET_MENU_PATH_ARR,\r\n    menuPathArr\r\n  }\r\n}\r\n\r\n","import { Map } from 'immutable'\r\n\r\nimport {\r\n  RESET_FRAMEWORK_STATE,\r\n  SET_CURRENT_ONE_MENU_PATH,\r\n  SET_CURRENT_TWO_MENU_PATH,\r\n  SET_MENU_DATA,\r\n  SET_MENU_PATH_ARR\r\n} from '../const/frameWork.js'\r\n\r\n\r\nconst defaultState = Map({\r\n  currentOneMenuPathR: '',\r\n  currentTwoMenuPathR: '',\r\n  menuDataR: [],\r\n  menuPathArrR: [],\r\n})\r\n\r\nfunction reducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case RESET_FRAMEWORK_STATE:\r\n      return action.state\r\n    case SET_CURRENT_ONE_MENU_PATH:\r\n      return state.set('currentOneMenuPathR', action.currentOneMenuPath)\r\n    case SET_CURRENT_TWO_MENU_PATH:\r\n      return state.set('currentTwoMenuPathR', action.currentTwoMenuPath)\r\n    case SET_MENU_DATA:\r\n      return state.set('menuDataR', action.menuData)\r\n    case SET_MENU_PATH_ARR:\r\n      return state.set('menuPathArrR', action.menuPathArr)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","import { Map } from \"immutable\";\r\n\r\nimport { GET_COMMON_DATA_ONE } from '../const/business'\r\n\r\nconst defaultReducer = Map({\r\n  commonDataOneR: ''\r\n})\r\n\r\nfunction reducer(state = defaultReducer, action) {\r\n  switch (action.type) {\r\n    case GET_COMMON_DATA_ONE:\r\n      return state.set(\"commonDataOneR\", action.commonDataOne)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","// 这个函数可以把state对象也转成imutable对象\r\nimport { combineReducers } from 'redux-immutable'\r\n\r\nimport frameWorkReducer from './frameWork'\r\nimport businessReducer from './business'\r\n\r\n// 合并多个reducer 第一次编译combineReducers的时候传入的state是一个空对象\r\nconst allReducer = combineReducers({\r\n  frameWork: frameWorkReducer, // frameWork本质上是一个immutable对象了\r\n  business: businessReducer\r\n})\r\n\r\nexport default allReducer","import {\r\n  createStore,\r\n  applyMiddleware, // applyMiddleware应用中间件\r\n} from 'redux'\r\n\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n// 安装redux-devtools-extension的可视化工具。\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport reducer from './reducer'\r\n\r\n\r\n// 应用一些中间件 也可以多个中间件进行合并 返回一个enhancer \r\nconst storeenhancer = applyMiddleware(thunkMiddleware)\r\n\r\n// 创建store\r\nconst store = createStore(reducer, composeWithDevTools(storeenhancer))\r\n// thunkMiddleware这个中间件 已经被应用到store里面了 \r\n// dispatch可以派发一个函数了 在这个函数里面可以进行网络请求 然后把返回的数据 放在action里面 然后再次进行dispatch\r\n// 这样网络请求就不是依赖组件了 而是在store中完成了\r\n\r\nexport default store;"],"sourceRoot":""}